<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>Task 3</title>
</head>

<body>
	<script>
		/*Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) 
		програма нагадує про якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було. 
		Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. 
		Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.*/
		class Reminder{
			static remiderObj
			static counterReminder = 0
			static message
			constructor(message,interval){
				if(Reminder.remiderObj) return Reminder.remiderObj
				Reminder.message = message,
				this.interval = interval,
				this.intervalId = null,
				Reminder.remiderObj = this
			}
			start(){
				this.intervalId = setInterval(
					() => {
						document.write(Reminder.message)
						Reminder.counterReminder++
						document.write(`Нагадування №${Reminder.counterReminder}`)
					}
				, this.interval * 1000)
			}
			//методи зупинки таймера
			stop(){
				clearInterval(this.intervalId)
			}
			//метод зміни повідомлення без зупинки таймера
			changeMessage(newMessage,time){
				setTimeout(() => Reminder.message = newMessage, time * 1000)
			}
		}
		let reminderOrg = new Reminder(`<p>Навчайся</p>`,2)
		reminderOrg.start()
		reminderOrg.changeMessage(`<p>Відпочивай</p>`,5)
		setTimeout(
			() => {
				reminderOrg.stop()
				document.write(`<p>Зупинка таймера</p>
				<p>Загальна кількість здійснених нагадувань: ${Reminder.counterReminder}</p>`)
			}, 11000
			)
	</script>
</body>
</html>